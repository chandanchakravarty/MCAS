@model MCAS.Web.Objects.CommonHelper.PasswordSetupModel
@using MCAS.Web.Objects.CommonHelper
@{
    var PasswordComplexity = Model.PasswordComplexity == null ? "" : Model.PasswordComplexity;
    var SendPwdThroughMail = Model.SendPwdThroughMail == null ? "" : Model.SendPwdThroughMail;
    var psss = Model.SetupID;
    ViewBag.Title = "PasswordSetUpEditor";
    Layout = "~/Views/Shared/_SystemAdminLayout.cshtml";
    SecurityPermissions myPemissions = (MCAS.Web.Objects.CommonHelper.SecurityPermissions)ViewData["UserPermissions"];
    System.Resources.ResourceManager PageResource = (new MCAS.Web.Objects.MastersHelper.TransactionModel()).GetResourceManager(Model.Resource);
}
<style type="text/css">
    fieldset
    {
        padding: 5px;
        margin: 1px;
        border: 1px solid;
        border-color: #DAD7D7;
    }
    
    legend
    {
        display: block;
        width: auto;
        padding: 1px;
        margin-bottom: 2px;
        font-size: 14px;
        line-height: inherit;
        color: #1e91cf !important;
        border: 0;
    }
    .form-horizontal .control-label
    {
        text-align: left;
    }
</style>
<script src='@Url.Content("~/Scripts/jquery-2.1.0.min.js")' type="text/javascript"></script>
<script src='@Url.Content("~/Scripts/jquery.validate.min.js")' type="text/javascript"></script>
<script src='@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")' type="text/javascript"></script>
<script src='@Url.Content("~/Scripts/jquery-ui-1.8.20.js")' type="text/javascript"></script>
<div class="dashboard-wrapper">
    <!-- Bootstrap Container Start -->
    <div class="container">
        <!-- Page title start -->
        <div class="row page-title">
            <div class="col-lg-12">
                <h2>@MCAS.Web.Objects.Resources.Common.Common.SystemAdmin</h2>
                <ul class="breadcrumb">
                    <li>@PageResource.GetString("UserAdmin")</li>
                    <li>@PageResource.GetString("PasswordSetup")</li>
                </ul>
            </div>
        </div>
        <!-- Page title end -->
        <!-- Row start for sub navigation -->
        <hr>
        <div class="row">
            <div class="col-lg-12 text-left">
                <div class="btn-group less-bottom-margin">
                    @*<a class="btn btn-default" href='@Url.Action("UserEntityIndex", "UserAdmin")'>Entity Details</a>*@
                    <a class="btn btn-default" href='@Url.Action("UserGroupsIndex", "UserAdmin")'>@PageResource.GetString("UserGroups")</a> 
                    <a class="btn btn-default" href='@Url.Action("UserAdminMastersList", "UserAdmin")'>@PageResource.GetString("User")</a>
                    <a class="btn btn-default" href='@Url.Action("UserDeptIndex", "UserAdmin")'>@PageResource.GetString("DepartmentMaster")</a>
                    <a class="btn btn-info" href='@Url.Action("PasswordSetUpEditor", "UserAdmin")'>@PageResource.GetString("PasswordSetup")</a>  @*<a class="btn btn-default" href='@Url.Action("ReleasedLockedUser", "UserAdmin")'>
                                Release Locked Users</a>  <a class="btn btn-default" href='@Url.Action("UserCountryIndex", "UserAdmin")'>Country for User Access</a>*@
                </div>
            </div>
        </div>
        <hr>
        <!-- Row End -->
        <!-- Row start -->
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="panel panel-info">
                    <div class="panel-heading clearfix">
                        <i class="icon-check-sign"></i>
                        <h3 class="panel-title">@PageResource.GetString("PasswordSetup")</h3>
                    </div>
                    <div style="color: Red; font-weight: bold;" class="has-error" id="error">
                        <p align="center">
                            @if (TempData["notice"] != null)
                            {
                                @TempData["notice"]
                            }
                        </p>
                    </div>
                    <form class="form-horizontal" action='@Url.Action("PasswordSetUpEditor", "UserAdmin")' role="form" id="userPassWordform" method="post">
                    <div class="panel-body">
                        @Html.ValidationSummary(true)
                        <div class="row top-buffer">
                            <div class="clearfix igr col-md-12">
                                <div class="col-md-4">
                                    @Html.HiddenFor(m => m.SetupID)
                                    <label for="inputUserId">
                                        @PageResource.GetString("PasswordComplexity") &nbsp;<span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-3">
                                    @Html.DropDownListFor(m => m.PasswordComplexity, new SelectList(Model.PwdComplexitylist, "Lookup_value", "Lookup_desc"), new { @class = "col-lg-12 form-control" })
                                    @Html.ValidationMessageFor(m => m.PasswordComplexity)
                                </div>
                            </div>
                        </div>
                        <div class="row top-buffer">
                            <div class="clearfix igr col-md-12">
                                <div class="col-md-4">
                                    <label for="inputUserFullName">
                                        @PageResource.GetString("MaxPasswordAge")&nbsp;<span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-3">
                                    @Html.TextBoxFor(m => m.MaxPasswordAge, new { @id = "MaxPasswordAge", @numlen = "3", @class = "form-control" })
                                    @Html.ValidationMessageFor(m => m.MaxPasswordAge)
                                </div>
                                <div class="col-md-4">
                                    <b>@PageResource.GetString("Reminder")</b>
                                </div>
                            </div>
                        </div>
                        <div class="row top-buffer">
                            <div class="clearfix igr col-md-12">
                                <div class="col-md-4">
                                    <label for="inputUserDispName">@PageResource.GetString("MinPasswordAge")&nbsp;<span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-3">
                                    @Html.TextBoxFor(m => m.MinPasswordAge, new { @id = "MinPasswordAge", @numlen = "3", @class = "form-control" })
                                    @Html.ValidationMessageFor(m => m.MinPasswordAge)
                                </div>
                                <div class="col-md-2">
                                    <b>@PageResource.GetString("Day")</b></div>
                            </div>
                        </div>
                        <div class="row top-buffer">
                            <div class="clearfix igr col-md-12">
                                <div class="col-md-4">
                                    <label for="ddlDepartment">@PageResource.GetString("MinPasswordLength") &nbsp;<span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-3">
                                    @Html.TextBoxFor(m => m.MinPasswordLength, new { @id = "MinPasswordLength", @numlen = "3", @class = "form-control" })
                                    @Html.ValidationMessageFor(m => m.MinPasswordLength)
                                </div>
                                <div class="col-md-2">
                                    <b>@PageResource.GetString("Character")</b></div>
                            </div>
                        </div>
                        <div class="row top-buffer">
                            <div class="clearfix igr col-md-12">
                                <div class="col-md-4">
                                    @Html.HiddenFor(m => m.SetupID)
                                    <label for="inputUserId">@PageResource.GetString("SendForgetPwdThroughMail") &nbsp;<span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-3">
                                    @Html.DropDownListFor(m => m.SendPwdThroughMail, new SelectList(Model.SendPwdThroughMailList, "Lookup_value", "Lookup_desc", ""), new { @class = "col-lg-12 form-control" })
                                    @Html.ValidationMessageFor(m => m.SendPwdThroughMail)
                                </div>
                            </div>
                        </div>
                        <div class="row top-buffer">
                            <div class="clearfix igr col-md-12 text-center">
                                @if (@myPemissions.Write)
                                {
                                    <button id="btnSave" class="btn btn-info">
                                        @PageResource.GetString("Save")</button>
                                }
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                                 @if (@Model.SetupID == 0 || @Model.SetupID == null)
                                                {
                                <a type="button" class="btn btn-info"
                                    id="btnReset" href="#" tabindex="13">@PageResource.GetString("Reset")</a>
                                     }
                                    else
                                      {
                                         <a type="button" class="btn btn-info"
                                    id="btnReset1" href="#" tabindex="13">@PageResource.GetString("Reset")</a> 
                                      }
                            </div>
                        </div>
                    </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="panel">
            @Html.Partial("~/Views/Shared/_TimeStamp.cshtml", Model)
        </div>
    </div>
</div>
<!-- Row End -->
<!-- Row Start -->
<!-- Row End -->
<!-- Bootstrap Container End -->
<script type="text/javascript">   

    $("#PasswordComplexity option[value='" + '@PasswordComplexity' + "']").attr('selected', true);
    $("#SendPwdThroughMail option[value='" + '@SendPwdThroughMail' + "']").attr('selected', true);    
    
    $(function () {
        $("input[type=text]").keypress(function () {
            var a = $("#" + this.id).val().length;
            if (10 > parseInt(a)) {
                var a = "#" + this.id,
                b = event.type,
                b = b.which ? b.which : event.keyCode;
                return 46 != b && 31 < b && (48 > b || 57 < b) ? ($(a).focus(), !1) : !0
            }
            return !1
        });
    })
</script>
<script type="text/javascript">
    $(function () {
        $("input[type=text]").keypress(function (e) {
            if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                //display error message
                //  $("#errmsg").html("Digits Only").show().fadeOut("slow");
                return false;
            }
        });
    })
    $("#btnReset").click(function () {
        //        $(':input', '#userPassWordform')
        //       .not(':button, :submit, :reset, :hidden')
        //       .val('')
        //       .removeAttr('checked')
        //       .removeAttr('selected');

        //$('select option:first-child').attr("selected", "selected");
        $("input[type=text]").val("");
        $("#PasswordComplexity").val($("#PasswordComplexity option:first").val());
        $("#SendPwdThroughMail").val($("#SendPwdThroughMail option:first").val());
        $("span.field-validation-error").removeClass("field-validation-error").addClass("field-validation-valid");
        $("#error").hide()

    });

    $("#btnReset1").click(function () {
        debugger;
        var SetupID = '@Model.SetupID';
        var a = parseInt(SetupID);
        window.location.href = '@Url.Action("PasswordSetUpEditor", "UserAdmin")?SetupID=' + a ;
    });
</script>
