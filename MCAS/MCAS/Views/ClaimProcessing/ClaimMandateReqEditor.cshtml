@using MCAS.Web.Objects.Resources.ClaimProcessing;
@using MCAS.Web.Objects.CommonHelper
@using MCAS.Web.Objects.Resources.Common;
@using MCAS.Globalisation;
@model MCAS.Web.Objects.ClaimObjectHelper.ClaimMandateModel
@{
    ViewBag.Title = "ClaimMandateReqEditor";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var mMCASQueryString = Html.MCASQueryString(Request.QueryString);
    var caller = mMCASQueryString["claimMode"] == null ? "" : Convert.ToString(mMCASQueryString["claimMode"]);
    var viewonly = mMCASQueryString["Viewmode"] == null ? "" : Convert.ToString(mMCASQueryString["Viewmode"]);
    var pagemode = mMCASQueryString["mode"] == null ? "" : Convert.ToString(mMCASQueryString["mode"]);
    var DonotDiableControl = Model.ReadOnly != true && pagemode == "Adj" ? "form-horizontal DonotDiableControl" : "form-horizontal";
    var accidentClaimIdNew = mMCASQueryString["AccidentClaimId"] == null ? "" : Convert.ToString(mMCASQueryString["AccidentClaimId"]);
    var policyid = mMCASQueryString["PolicyId"] == null ? "" : Convert.ToString(mMCASQueryString["PolicyId"]);
    var claimId = Model.ClaimID == null ? "" : Convert.ToString(Model.ClaimID);
    var claimMode = mMCASQueryString["claimMode"] == null ? "" : Convert.ToString(mMCASQueryString["claimMode"]);
    var MandateId = mMCASQueryString["MandateId"] == null ? "" : Convert.ToString(mMCASQueryString["MandateId"]);
    var groupUser = TempData["Groupuser"] == null ? "" : Convert.ToString(TempData["Groupuser"]);
    var roleCode = TempData["RoleCode"] == null ? "" : Convert.ToString(TempData["RoleCode"]);
    var claimtypeId = TempData["Claimtype"] == null ? "" : Convert.ToString(TempData["Claimtype"]);
    var assignedToSupId = TempData["AssignedToSup"] == null ? "" : Convert.ToString(TempData["AssignedToSup"]);
    var assignedTo = TempData["AssignedTo"] == null ? "" : Convert.ToString(TempData["AssignedTo"]);
    var display = (viewonly == "AddMandate" || viewonly == "ApproveMandate") ? "inline;" : "none;";
    var Display = TempData["DisplayDiv"] == null ? "none;" : "block;";
    var SubMenu = !string.IsNullOrEmpty(Convert.ToString((HttpContext.Current.Session["ScreenNameDash"]))) ? MenuListItem.ClaimTabs.GetClaimLabel(Convert.ToString((HttpContext.Current.Session["ScreenNameDash"]))) : ClaimMandate.ResourceManager.GetString(MenuListItem.ClaimTabs.SubMenuString(@caller, @accidentClaimIdNew, @pagemode, "ClaimMandate"));
    string isEncryptedParams = System.Configuration.ConfigurationManager.AppSettings["EncryptQueryParams"].ToUpper();
    var claimtype = Model.ClaimType = mMCASQueryString["ClaimType"] == null ? 0 : Convert.ToInt32(mMCASQueryString["ClaimType"]); ;
    var ClaimTypeCode = ViewData["ClaimTypeCode"];
    //var HAssignedTo = ViewData["HAssignedTo"];
    if (pagemode == "Adj")
    {
        Session["screenID"] = "CLM_REG";
        Session["ScreenNameDash"] = "208";
    }
    Model.ViewMode = pagemode == "Adj" ? "" : "Read";
    var IsFalOD = TempData["UserFALOD"];
    var IsFalPDBI = TempData["UserFALPDBI"];
}
<script src="@Url.Content("~/Scripts/jquery-2.1.0.min.js")" type="text/javascript"></script>
<div class="dashboard-wrapper">
    <div class="MandateDialogue" style="overflow: hidden;" />
    <div class="container">
        <div class="page-title" id="reg">
            <div class="col-lg-12" id="reg2" style="background-color: white; position: fixed;
                z-index: 1;">
                <h2>@ClaimMandate.ResourceManager.GetString(MenuListItem.ClaimTabs.PreBreadCrumbString(@pagemode))</h2>
                <ul class="breadcrumb">
                    <li>@SubMenu</li>
                    <li>@ClaimMandate.Mandate</li>
                </ul>
            </div>
            <div style="position: relative!important">
                @Html.Action("_ClaimDetails", "ClaimProcessing", new { PolicyId = @policyid })
            </div>
        </div>
        <hr />
        <div class="row" id="toprow">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="panel panel-info">
                    <div class="panel-heading clearfix">
                        <i class="icon-check-sign"></i>
                        <h3 class="panel-title">
                            @ClaimMandate.MandateEntry</h3>
                    </div>
                    <div class="panel-body" id="MandateRqstEditor">
                        @Html.Partial("ClaimMandateList", Model.MandateList)
                        <div>
                            <br />
                        </div>
                        <div class="row">
                            <div class="clearfix igr col-md-1 text-center">
                                <a class="btn btn-info" id="Previous">@Common.Previous</a>
                            </div>
                            <div class="col-lg-10 text-center">
                            </div>
                            <div class="clearfix igr col-md-1 text-center">
                                <a class="btn btn-info" id="Next">@Common.Next</a>
                            </div>
                        </div>
                        @{
                            object routes = new { PolicyId = @policyid, claimId = @claimId, AccidentClaimId = @accidentClaimIdNew, claimMode = @caller, mode = @pagemode };
                            if (isEncryptedParams.ToUpper() == "YES")
                            {
                                string res = RouteEncryptDecrypt.getRouteString(routes);
                                res = RouteEncryptDecrypt.Encrypt(res);
                                routes = new { Q = res };
                            }
                        }
                        <hr style='font-weight: bold' />
                        <div class="panel-body" id="NewMandateEditor">
                            @using (Html.BeginForm("ClaimMandateReqEditor", "ClaimProcessing", routes, FormMethod.Post, new { role = "form", @class = @DonotDiableControl, id = "claimmandateentryform", name = "claimmandateentryform" }))
                            { @Html.ValidationSummary(true) @Html.HiddenFor(m => m.MandateId); @Html.HiddenFor(m => m.ReserveId); @Html.HiddenFor(m => m.ClaimID); @Html.HiddenFor(m => m.ClaimType); @Html.HiddenFor(m => m.ClaimantName); @Html.HiddenFor(m => m.Hshowgrid) @Html.HiddenFor(m => m.HGridImageSign) @Html.HiddenFor(m => m.HAjustOrEdit) @Html.HiddenFor(m => m.HDeductibleAmt) @Html.HiddenFor(m => m.HTotalPreviousApproveMandate) @Html.HiddenFor(m => m.ReadOnly) @Html.HiddenFor(m => m.ViewMode)@Html.HiddenFor(m => m.Hshowgrid) @Html.HiddenFor(m => m.HUserId) @Html.HiddenFor(m => m.HEffdateto) @Html.HiddenFor(m => m.HEffdatefrom) @Html.HiddenFor(m => m.HOrgname)
                                <a id="reload" href='@Url.ActionEncoded("ClaimMandateReqEditor", "ClaimProcessing", new { PolicyId = @policyid, ClaimId = @claimId, MandateId = @Model.MandateId, AccidentClaimId = @accidentClaimIdNew, claimMode = @caller })' style="display:none">
                                    Reload</a>
                                <div style="color: Red; font-weight: bold;" class="has-error" id="error">
                                    <p align="center">
                                        @if (@ViewData["SuccessMsg"] != null)
                                        { @ViewData["SuccessMsg"] }
                                    </p>
                                </div>
                                <div>
                                    @if (@TempData["alertMessage"] != null)
                                    { @TempData["alertMessage"] }
                                </div>
                                <div id="t2" style="display:@Display">
                                    <div class="panel-body" style="display: none;" id="divManDtlsSupAppval">
                                        <fieldset>
                                            <legend>@ClaimMandate.MandateDetails</legend>
                                            <div class="panel-body">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.ClaimantName <span class="text-danger">*</span></label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextBoxFor(m => m.ClaimantName, new { id = "ClaimantName", @maxlength = "250", @class = "form-control", @readonly = "readonly" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.AssignedTo <span class="text-danger">*</span>
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.DropDownListFor(m => m.AssignedTo, new SelectList(Model.AssignTypeListSP, "intId", "Text", "Select..."), new { id = "Assignedto", @class = "form-control CO" })
                                                                    @Html.ValidationMessageFor(m => m.AssignedTo)
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.SPFAL</label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextBoxFor(m => m.SPFAL, new { @maxlength = "1500", @class = "form-control format Number", @readonly = "readonly" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.ClaimType <span class="text-danger">*</span>
                                                                </label>
                                                                <div class="col-sm-8">@Html.DropDownListFor(m => m.ClaimType, new SelectList(Model.ClaimTypeList, "Lookup_value", "Lookup_desc", "[Select...]"), new { id = "Claimtype", @class = "form-control CO" })
                                                                    @Html.ValidationMessageFor(m => m.ClaimType)</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.InvestigationResult</label>
                                                                <div class="col-sm-8">
                                                                    @Html.DropDownListFor(m => m.InvestigationResult, new SelectList(Model.investigationTypeList, "Lookup_value", "Lookup_desc", "0"), new { id = "InvestigationResultId", @class = "form-control CO" })
                                                                    @Html.ValidationMessageFor(m => m.InvestigationResult)</div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.Scenario <span class="text-danger">*</span>
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextBoxFor(m => m.Scenario, new { @maxlength = "1500", @class = "form-control CO" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="col-sm-2 control-label">
                                                            @ClaimMandate.Evidence</label>
                                                        <div class="col-sm-10" id="DivcheckBoxReadOnly">
                                                            @foreach (var prod in Model.EvidenceList.Where(X => X.Lookup_value != "" && X.Lookup_value != "-1"))
                                                            {
                                                                var uniqId = @prod.Lookup_value; var selectedId = @prod.Lookup_value + '~' + @prod.Lookup_desc; string[] selectedCategory = Convert.ToString(@ViewData["SelectedCategory"]).Split(','); var pos = selectedCategory != null ? Array.IndexOf(selectedCategory, selectedId) : -1; var isProdSelected = pos == -1 ? false : true; 
                                                                <input type="checkbox" checked="@isProdSelected" value='@selectedId' id="@uniqId" style="text-align:center; vertical-align: middle; margin-left:10px;" name="query_categoryBox" class="checkBoxReadOnly" /> @Html.DisplayName(@prod.Lookup_desc) }
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.RelatedFacts</label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextAreaFor(m => m.RelatedFacts, new { @maxlength = "1500", @class = "form-control CO" })
                                                                    @Html.ValidationMessageFor(m => m.RelatedFacts)
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.COAssessment<span class="text-danger">*</span>
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextAreaFor(m => m.COAssessment, new { @class = "form-control CO" }) @Html.ValidationMessageFor(m => m.COAssessment)
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.InformSafetytoreviewfindings <span class="text-danger">*</span>
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.DropDownListFor(m => m.InformSafetytoreviewfindings, new SelectList(Model.InformSafetytoreviewfindingsList, "Lookup_value", "Lookup_desc", "[Select...]"), new { @class = "form-control CO" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.DateofNoticetoSafety
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextBoxFor(m => m.DateofNoticetoSafety, "{0:d}", new { @class = "form-control datepicker" })
                                                                    @Html.ValidationMessageFor(m => m.DateofNoticetoSafety)
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                        <fieldset>
                                            <legend>@ClaimMandate.SupervisorApproval</legend>
                                            <div id="CO" class="panel-body">
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="col-sm-2 control-label">
                                                            @ClaimMandate.SupervisorAssignto <span class="text-danger">*</span>
                                                        </label>
                                                        <div class="col-sm-4">
                                                            @Html.DropDownListFor(m => m.SupervisorAssignto, new SelectList(Model.AssignTypeListCO, "intId", "Text"), new { id = "AssignedToSup", @class = "form-control " })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="col-sm-2 control-label" style="padding-right: 0px;">
                                                            @ClaimMandate.ApproveRecommedations <span class="text-danger">*</span>
                                                        </label>
                                                        <div class="col-sm-10" id="DivApproveRecommendations">
                                                            @Html.RadioButtonForSelectList(m => m.ApproveRecommedations, new SelectList(Model.ApproveRecoList, "Lookup_value", "Lookup_desc"))
                                                            @Html.ValidationMessageFor(m => m.ApproveRecommedations)
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <label class="col-sm-2 control-label">
                                                            @ClaimMandate.SupervisorRemarks</label>
                                                        <div class="col-sm-10">
                                                            @Html.TextAreaFor(m => m.SupervisorRemarks, new { @len = "1500", @class = "form-control SP" })
                                                            @Html.ValidationMessageFor(m => m.SupervisorRemarks)
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4  control-label">
                                                                    @ClaimMandate.ODStatus</label>
                                                                <div class="col-sm-8" id="DivODStatus">
                                                                    @Html.RadioButtonForSelectList(m => m.ODStatus, Model.generallookupvalue)
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.RecoverableFromInsurerBI
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.DropDownListFor(m => m.RecoverableFromInsurerBI, new SelectList(Model.RecoverableFromInsurerBIList, "Lookup_value", "Lookup_desc", ""), new { @class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group">
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.EZLinkCardNo
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.DropDownListFor(m => m.EZLinkCardNo, new SelectList(Model.EZLinkCardNolist, "Lookup_value", "Lookup_desc", ""), new { @class = "form-control" })
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <div class="form-group">
                                                                <label class="col-sm-4 control-label">
                                                                    @ClaimMandate.InformedInsurer&nbsp;<span id="InformedInsurerspan" class="text-danger">*</span>
                                                                </label>
                                                                <div class="col-sm-8">
                                                                    @Html.TextBoxFor(m => m.InformedInsurer, "{0:d}", new { @class = "form-control", @readonly = "readonly" })
                                                                    @Html.ValidationMessageFor(m => m.InformedInsurer)
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="panel-body" style="display: none;" id="ODPDBIRequestEditor">
                                        <div class="row">
                                            <div class="panel-body">
                                                <div class="row">
                                                    <fieldset>
                                                        <legend id="mainheader">@ClaimMandate.ODClaimBreakdown</legend>
                                                        <div class="panel-body">
                                                            <div class="col-lg-12">
                                                                <div class="form-group" style="margin-bottom: 0px ! important;">
                                                                    <div class="row">
                                                                        <div class="col-sm-3">
                                                                            <div class="row">
                                                                                <label class="col-sm-3 control-label">
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-sm-9">
                                                                            <div class="row">
                                                                                <div class="col-sm-7">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            @if (claimtypeId == "1")
                                                                                            {
                                                                                                <label class="col-sm-4 text-centre OD">
                                                                                                    @ClaimMandate.ClaimQuantum</label>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <label class="col-sm-4 text-centre PD BI">
                                                                                                    @ClaimMandate.ThirdPartyClaimQuantum</label>
                                                                                            }
                                                                                            <label class="col-sm-4 text-centre">
                                                                                                @ClaimMandate.PreviousOffers</label>
                                                                                            <label class="col-sm-4 text-centre">
                                                                                                @ClaimMandate.TPCounterOffer</label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-sm-5">
                                                                                    <div class="form-group">
                                                                                        <div class="row">
                                                                                            <label class="col-sm-1 text-centre">
                                                                                            </label>
                                                                                            <label class="col-sm-5 text-centre" id="CoLbl">
                                                                                                @ClaimMandate.CurrentMandate1</label>
                                                                                            <label class="col-sm-5 text-centre" id="SmLbl">
                                                                                                @ClaimMandate.CurrentMandateSP1</label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        @for (int i = 0; i < Model.MandateDetails.Count; i++)
                                                                        {
                                                                            @Html.HiddenFor(m => m.MandateDetails[i].CmpCode) 
                                                                            @Html.HiddenFor(m => m.MandateDetails[i].MandateDetailId)
                                                                            @Html.HiddenFor(m => m.MandateDetails[i].MandateId)
                                                                            @Html.HiddenFor(m => m.MandateDetails[i].PaymentId)
                                                                            @Html.HiddenFor(m => m.MandateDetails[i].ClaimID)
                                                                            @Html.HiddenFor(m => m.MandateDetails[i].AccidentClaimId)

                                                                            var PreMandateId = Model.MandateDetails[i].CompDesc + "_Q";
                                                                            var PreviousOffers = Model.MandateDetails[i].CompDesc + "_A";
                                                                            var TPCounterOffer = Model.MandateDetails[i].CompDesc + "_R";

                                                                            var PreMandateId_C = Model.MandateDetails[i].CompDesc + "_T";
                                                                            var MovementMandateId_C = Model.MandateDetails[i].CompDesc + "_C";
                                                                            var CurrentMandateId_C = Model.MandateDetails[i].CompDesc + "_M";

                                                                            var PreMandateId_S = Model.MandateDetails[i].CompDesc + "_D";
                                                                            var MovementMandateId_S = Model.MandateDetails[i].CompDesc + "_S";
                                                                            var CurrentMandateId_S = Model.MandateDetails[i].CompDesc + "_N";
                                                                            if (Model.MandateDetails[i].CmpCode == "GD")
                                                                            {
                                                                            <fieldset class="BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.GD</legend>
                                                                                <div class="row BI" id="BIl1div">
                                                                                    <div class="col-lg-12">
                                                                                        <div class="form-group">
                                                                                            <label class="col-sm-3 control-label">
                                                                                                @ClaimMandate.GD
                                                                                            </label>
                                                                                            <div class="col-sm-9">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-7">
                                                                                                        <div class="form-group">
                                                                                                            <div class="row">
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                </div>
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                </div>
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-5">
                                                                                                        <div class="form-group">
                                                                                                            <div class="row">
                                                                                                                <div class="col-sm-1">
                                                                                                                </div>
                                                                                                                <div class="col-sm-5">
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                </div>
                                                                                                                <div class="col-sm-5">
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "ME")
                                                                            {
                                                                            <fieldset class="BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.ME</legend>
                                                                                <div class="row BI" id="BIl2div">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "ME")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.ME
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "FME")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.FME
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 1].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 2].CmpCode == "LME")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LME
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 2].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 2].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].PreMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 2].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 2].CompDesc + "_S", @Value = Model.MandateDetails[i + 2].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "LEC")
                                                                            {
                                                                            <fieldset class="BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.LOEAR</legend>
                                                                                <div class="row BI" id="BIl3div">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "LEC")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LEC
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "LOEAR")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LOEAR
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 2].CmpCode == "LODE")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LODE
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 2].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 2].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 2].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 2].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].PreMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 2].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 2].CompDesc + "_S", @Value = Model.MandateDetails[i + 2].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "TRAN")
                                                                            {
                                                                            <fieldset class="BI">
                                                                                <legend class="ExpCol ui-minusicon">Transport</legend>
                                                                                <div class="row BI" id="BIl4div">
                                                                                    <div class="col-lg-12">
                                                                                        <div class="form-group">
                                                                                            <label class="col-sm-3 control-label">
                                                                                                @ClaimMandate.TRAN
                                                                                            </label>
                                                                                            <div class="col-sm-9">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-7">
                                                                                                        <div class="form-group">
                                                                                                            <div class="row">
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                </div>
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                    @Html.ValidationMessageFor(m => m.MandateDetails[i].PreviousOffers)
                                                                                                                </div>
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                    @Html.ValidationMessageFor(m => m.MandateDetails[i].TPCounterOffer)
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-5">
                                                                                                        <div class="form-group">
                                                                                                            <div class="row">
                                                                                                                <div class="col-sm-1">
                                                                                                                </div>
                                                                                                                <div class="col-sm-5">
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                </div>
                                                                                                                <div class="col-sm-5">
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "COR")
                                                                            {     
                                                                            <fieldset class="OD PD">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.COR</legend>
                                                                                <div class="row OD PD" id="ODl1div">
                                                                                    <div class="col-lg-12">
                                                                                        <div class="form-group">
                                                                                            <label class="col-sm-3 control-label">
                                                                                                @ClaimMandate.COR
                                                                                            </label>
                                                                                            <div class="col-sm-9">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-7">
                                                                                                        <div class="form-group">
                                                                                                            <div class="row">
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                </div>
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                </div>
                                                                                                                <div class="col-sm-4">
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-5">
                                                                                                        <div class="form-group">
                                                                                                            <div class="row">
                                                                                                                <div class="col-sm-1">
                                                                                                                </div>
                                                                                                                <div class="col-sm-5">
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                </div>
                                                                                                                <div class="col-sm-5">
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                    @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                    @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "LOUUN")
                                                                            {
                                                                            <fieldset class="OD PD">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.UninsuredLosses</legend>
                                                                                <div class="row" id="ODLOUDiv">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "LOUUN")
                                                                                    {
                                                                                        <div class="PD col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LOUUN
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                        @Html.ValidationMessageFor(m => m.Reserve.ReserveDetails[i].CurrentReserve)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "LOE")
                                                                                    {
                                                                                        <div class="PD col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LOE
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                        @Html.ValidationMessageFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 1].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 1].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 2].CmpCode == "LOR")
                                                                                    {
                                                                                        <div class="PD col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LOR
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 2].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 2].CompDesc + "_Q" })
                                                                                                                        @Html.ValidationMessageFor(m => m.Reserve.ReserveDetails[i + 2].CurrentReserve)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 2].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 2].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].PreMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 2].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].PreMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 2].CompDesc + "_S", @Value = Model.MandateDetails[i + 2].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 3].CmpCode == "Ex")
                                                                                    {
                                                                                        <div class="PD col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.Ex
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 3].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 3].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 3].CompDesc + "_Q" })
                                                                                                                        @Html.ValidationMessageFor(m => m.Reserve.ReserveDetails[i + 3].CurrentReserve)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 3].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 3].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 3].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 3].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].PreMandate, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 3].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 3].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].CurrentMandate, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].PreMandateSP, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 3].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 3].CompDesc + "_S", @Value = Model.MandateDetails[i + 3].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 4].CmpCode == "LOU")
                                                                                    {
                                                                                        <div class="OD col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LOU
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 4].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 4].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 4].CompDesc + "_Q" })
                                                                                                                        @Html.ValidationMessageFor(m => m.Reserve.ReserveDetails[i + 4].CurrentReserve)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 4].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 4].PreviousOffers)
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 4].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        @Html.ValidationMessageFor(m => m.MandateDetails[i + 4].TPCounterOffer)
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].PreMandate, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 4].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 4].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].CurrentMandate, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].PreMandateSP, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 4].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 4].CompDesc + "_S", @Value = Model.MandateDetails[i + 4].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "Labl")
                                                                            {
                                                                            <fieldset class="OD PD BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.Labl </legend>
                                                                                <div id="l3ODdiv">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "Labl")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <div class="row">
                                                                                                    <label class="col-sm-3 control-label">
                                                                                                        @ClaimMandate.Labl (%)</label>
                                                                                                    <div class="col-sm-9">
                                                                                                        <div class="row">
                                                                                                            <div class="col-sm-7">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-4">
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control Number Liability", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control Number Liability", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-sm-5">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-1">
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @class = "form-control Number Liability", @id = @MovementMandateId_C })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5 ">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @class = "form-control Number Liability", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "SubTotal")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <div class="row">
                                                                                                    <label class="col-sm-3 control-label">
                                                                                                        @ClaimMandate.SubTotal
                                                                                                    </label>
                                                                                                    <div class="col-sm-9">
                                                                                                        <div class="row">
                                                                                                            <div class="col-sm-7">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-4">
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-sm-5">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-1">
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5">
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @maxlength = "14", @readonly = "readonly", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5 ">
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @maxlength = "14", @readonly = "readonly", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "OE")
                                                                            {
                                                                            <fieldset class="OD PD BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.OE</legend>
                                                                                <div id="ODl4div">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "OE")
                                                                                    {
                                                                                        <div class="col-lg-12 OD PD BI">
                                                                                            <div class="form-group">
                                                                                                <div class="row">
                                                                                                    <label class="col-sm-3 control-label">
                                                                                                        @ClaimMandate.OE
                                                                                                    </label>
                                                                                                    <div class="col-sm-9">
                                                                                                        <div class="row">
                                                                                                            <div class="col-sm-7">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-4 OD PD BI">
                                                                                                                            @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-sm-5">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-1">
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5">
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5 ">
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "IEF")
                                                                                    {
                                                                                        <div class="col-lg-12 BI">
                                                                                            <div class="form-group">
                                                                                                <div class="row">
                                                                                                    <label class="col-sm-3 control-label">
                                                                                                        @ClaimMandate.IEF
                                                                                                    </label>
                                                                                                    <div class="col-sm-9">
                                                                                                        <div class="row">
                                                                                                            <div class="col-sm-7">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-4 OD PD BI">
                                                                                                                            @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-4">
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="col-sm-5">
                                                                                                                <div class="form-group">
                                                                                                                    <div class="row">
                                                                                                                        <div class="col-sm-1">
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5">
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                        </div>
                                                                                                                        <div class="col-sm-5 ">
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "MR")
                                                                            {
                                                                            <fieldset class="OD PD BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.ReportFees</legend>
                                                                                <div class="row" id="ODl5div">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "MR")
                                                                                    {
                                                                                        <div class="col-lg-12 BI">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.MR
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number SP ", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "PTF")
                                                                                    {
                                                                                        <div class="col-lg-12 BI">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.PTF
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 2].CmpCode == "SF")
                                                                                    {
                                                                                        <div class="col-lg-12 OD PD">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.SF
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 2].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 2].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 2].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].PreMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 2].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandate, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].PreMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 2].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 2].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 2].CompDesc + "_S", @Value = Model.MandateDetails[i + 2].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 2].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 2].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 3].CmpCode == "RSF")
                                                                                    {
                                                                                        <div class="col-lg-12 OD PD">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.RSF
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 3].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 3].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 3].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 3].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 3].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].PreMandate, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 3].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 3].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].CurrentMandate, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].PreMandateSP, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 3].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 3].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 3].CompDesc + "_S", @Value = Model.MandateDetails[i + 3].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 3].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 3].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 4].CmpCode == "LPRF")
                                                                                    {
                                                                                        <div class="col-lg-12 OD PD BI">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.LPRF
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 4].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 4].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 4].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 4].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 4].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].PreMandate, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].MovementMandate, new { @CompareTo = Model.Reserve.ReserveDetails[i + 4].CurrentReserve, @maxlength = "14", @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 4].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].CurrentMandate, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].PreMandateSP, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 4].MovementMandateSP, new { @CompareTo = Model.Reserve.ReserveDetails[i + 4].CurrentReserve, @maxlength = "14", @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 4].CompDesc + "_S", @Value = Model.MandateDetails[i + 4].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 4].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 4].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 5].CmpCode == "OPEF")
                                                                                    {
                                                                                        <div class="col-lg-12 BI">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.OPEF
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row" id="l14BIdiv">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 5].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 5].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 5].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 5].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 5].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 5].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 5].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 5].PreMandate, new { @id = @Model.MandateDetails[i + 5].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 5].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 5].CurrentReserve, @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 5].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 5].CurrentMandate, new { @id = @Model.MandateDetails[i + 5].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 5].PreMandateSP, new { @id = @Model.MandateDetails[i + 5].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 5].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 5].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 5].CompDesc + "_S", @Value = Model.MandateDetails[i + 5].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 5].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 5].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "PLC")
                                                                            {
                                                                            <fieldset class="OD PD BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.ThirdPartyLegalFees </legend>
                                                                                <div class="row" id="ODl6div">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "PLC")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.PLC
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number SP", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "PLD")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.PLD
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "OLC")
                                                                            {
                                                                            <fieldset class="OD PD BI">
                                                                                <legend class="ExpCol ui-minusicon">@ClaimMandate.OurLegalFees</legend>
                                                                                <div class="row" id="ODl7div">
                                                                                    @if (Model.MandateDetails[i].CmpCode == "OLC")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.OLC
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5 ">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number SP", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    @if (Model.MandateDetails[i + 1].CmpCode == "OLD")
                                                                                    {
                                                                                        <div class="col-lg-12">
                                                                                            <div class="form-group">
                                                                                                <label class="col-sm-3 control-label">
                                                                                                    @ClaimMandate.OLD
                                                                                                </label>
                                                                                                <div class="col-sm-9">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-7">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i + 1].CurrentReserve, new { @maxlength = "14", @readonly = "readonly", @Value = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i + 1].CompDesc + "_Q" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_A", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-4">
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @Model.MandateDetails[i + 1].CompDesc + "_R", @readonly = "readonly" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            <div class="form-group">
                                                                                                                <div class="row">
                                                                                                                    <div class="col-sm-1">
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_T", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number CO", @id = @Model.MandateDetails[i + 1].CompDesc + "_C" })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandate, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_M" })
                                                                                                                    </div>
                                                                                                                    <div class="col-sm-5">
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].PreMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_D", @Value = "0.00" })
                                                                                                                        @Html.TextBoxFor(m => m.MandateDetails[i + 1].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i + 1].CurrentReserve, @class = "form-control format Number SP ", @id = @Model.MandateDetails[i + 1].CompDesc + "_S", @Value = Model.MandateDetails[i + 1].CurrentMandateSP })
                                                                                                                        @Html.HiddenFor(m => m.MandateDetails[i + 1].CurrentMandateSP, new { @id = @Model.MandateDetails[i + 1].CompDesc + "_N" })
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </fieldset>
                                                                            }
                                                                            if (Model.MandateDetails[i].CmpCode == "TOTAL")
                                                                            {
                                                                            <div style="padding-top: 10px">
                                                                                <div class="row">
                                                                                    <label class="col-sm-3 control-label">
                                                                                        @ClaimMandate.TOTAL
                                                                                    </label>
                                                                                    <div class="col-sm-9">
                                                                                        <div class="row">
                                                                                            <div class="col-sm-7">
                                                                                                <div class="form-group">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-4 OD PD BI">
                                                                                                            @Html.TextBoxFor(m => m.Reserve.ReserveDetails[i].CurrentReserve, new { @maxlength = "14", @readonly = "true", @Value = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number", @id = Model.MandateDetails[i].CompDesc + "_Q" })
                                                                                                        </div>
                                                                                                        <div class="col-sm-4">
                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].PreviousOffers, new { @maxlength = "14", @class = "form-control format Number", @id = @PreviousOffers, @readonly = "readonly" })
                                                                                                        </div>
                                                                                                        <div class="col-sm-4">
                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].TPCounterOffer, new { @maxlength = "14", @class = "form-control format Number", @id = @TPCounterOffer, @readonly = "readonly" })
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="col-sm-5">
                                                                                                <div class="form-group">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-1">
                                                                                                        </div>
                                                                                                        <div class="col-sm-5">
                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].PreMandate, new { @id = @PreMandateId_C, @Value = "0.00" })
                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandate, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number CO", @id = @MovementMandateId_C })
                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandate, new { @id = @CurrentMandateId_C })
                                                                                                        </div>
                                                                                                        <div class="col-sm-5 ">
                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].PreMandateSP, new { @id = @PreMandateId_S, @Value = "0.00" })
                                                                                                            @Html.TextBoxFor(m => m.MandateDetails[i].MovementMandateSP, new { @maxlength = "14", @CompareTo = Model.Reserve.ReserveDetails[i].CurrentReserve, @class = "form-control format Number SP", @id = @MovementMandateId_S, @Value = Model.MandateDetails[i].CurrentMandateSP })
                                                                                                            @Html.HiddenFor(m => m.MandateDetails[i].CurrentMandateSP, new { @id = @CurrentMandateId_S })
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            }
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @*<div class="row" style="padding-top: 5px">
                                                                    <div class="col-lg-12">
                                                                        <div class="form-group">
                                                                            <label class="col-sm-3 control-label" style="padding: 0px; width: 220px;">
                                                                                Remarks</label>
                                                                            <div class="col-sm-9" style="padding-left: 10px; width: 725px; padding-right: 10px;">
                                                                                @Html.TextAreaFor(m => m.Remarks, new { @class = "form-control" })
                                                                                @Html.ValidationMessageFor(m => m.Remarks)
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>*@
                                                        </div>
                                                        <div class="row" style="padding-left: 5px">
                                                            <label class="col-sm-3 control-label">
                                                                @ClaimMandate.Remarks
                                                            </label>
                                                            <div class="col-sm-9">
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <div class="form-group">
                                                                            <div class="row">
                                                                                <div class="col-sm-12" style="padding-right: 40px">
                                                                                    @Html.TextAreaFor(m => m.Remarks, new { @class = "form-control" })
                                                                                    @Html.ValidationMessageFor(m => m.Remarks)
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="divsave" class="row">
                                        <div class="col-lg-1">
                                            <div class="form-group" style="padding-left: 20px;">
                                                <a class="btn btn-info" id="Previous">@Common.Previous</a>
                                            </div>
                                        </div>
                                        <div class="col-lg-10 text-center">
                                            <div class="form-group divSave" id="divbtnsave" style="display:@display">
                                                <input id="btnSave" class="btn btn-info" type="button" value=@Common.Save />
                                                <a type="button" class="btn btn-info" id="btnReset" href="#" tabindex="13">@Common.Reset</a>
                                            </div>
                                        </div>
                                        <div class="col-lg-1">
                                            <div class="form-group">
                                                <a class="btn btn-info" id="Next">@Common.Next</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="panel-body">
                                                <div class="row">
                                                    <fieldset>
                                                        <div class="panel-body">
                                                            <div class="col-lg-12">
                                                                @Html.Partial("~/Views/Shared/_TimeStamp.cshtml", Model)
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    setTabActive('MandateTab');
    var Tmainheader = { "0": function () { return '@Html.Raw(ClaimMandate.ODClaimBreakdown)' }, "1": function () { return '@Html.Raw(ClaimMandate.ODClaimBreakdown)' }, "2": function () { return '@Html.Raw(ClaimMandate.TPPDClaimBreakdown)' }, "3": function () { return '@Html.Raw(ClaimMandate.TPBIClaimBreakdown)' } }, CName = { 1: function () { return '@Html.Raw(ClaimMandate.OwnDamage)' }, 2: function () { return '@Html.Raw(ClaimMandate.PropertyDamage)' }, 3: function () { return '@Html.Raw(ClaimMandate.BodyInjury)' }
    };

    var do_on_load = function () {
        $('.ui-wrapper').css("padding", "0px");
        $('textarea').resizable({ handles: 's' });
        $("#DivODStatus :radio:not(:checked)").attr("disabled", !0);
        $("#RecoverableFromInsurerBI,#EZLinkCardNo").css({ "pointer-events": "none", "cursor": "default" }).css('background-color', '#eee');
        "3" != "@Model.ClaimType" && $("#InformedInsurerspan").css("display", "none");
        $(document).on("focus", ":input", function () {
            $(this).attr("autocomplete", "off")
        });
        $(".datepicker").datepicker({ beforeShow: function (i) { if ($(i).attr('readonly')) { return false; } }, dateFormat: "dd/mm/yy", showStatus: !0, showWeeks: !0, currentText: "Now", autoSize: !0, gotoCurrent: !0, showAnim: "blind", highlightWeek: !0, changeMonth: !0, changeYear: !0, yearRange: "1951:2050", onSelect: function () { $(this).valid() } });
        $.culture = Globalize.culture("en-GB");
        $.validator.methods.date = function (value, element) {
            return (value == "DD/MM/YYYY" || value == "") ? true : this.optional(element) || Globalize.parseDate(value, "dd/MM/yyyy", "en-GB") || Globalize.parseDate(value, "yyyy-mm-dd");
        };
        $.validator.unobtrusive.adapters.add("isinformedinsurer", ["other"], function (a) { a.rules.informedinsurer = !0; a.messages.informedinsurer = a.message });
        $.validator.addMethod("informedinsurer", function (a, b, c) { return ("3" != "@Model.ClaimType" || ("" != a && "DD/MM/YYYY" != a)); }, "");
        DatepickerLen();

        $("#MandateRqstEditor input[type=text]").change(function () { SetTotal(); SetSubTotal(); SetCurrentMandate(); }).each(function () {
            if ("Liability" == $(this).context.id.slice(0, -2) && $(this).val() != "") {
                ("0.00" == $(this).val()) ? $(this).val("") : $(this).val(parseFloat($(this).val() == "" ? "0" : $(this).val()));
            }
        });
        $('#Assignedto').change(function () {
            $.ajax({
                type: "POST",
                url: '@Url.ActionEncoded("GetFALforSP", "ClaimProcessing")',
                data: {
                    AssignedtoSP: $("#Assignedto").val(),
                    ClaimType: "@claimtypeId"
                },
                success: function (a) {
                    $("#SPFAL").val(a);
                    // apply format class on 'Supervisor Name – FAL'
                    if ($("#SPFAL").hasClass("format") && "" != $("#SPFAL").val()) {
                        var b = "-" == $("#SPFAL").val().charAt(0) ? "-" : "", a = $("#SPFAL").val().replace(/,/g, "");
                        "" == a || isNaN(a) || $("#SPFAL").val(b + CurrencyFormat($("#SPFAL").val().replace(/,/g, "")));
                        $("#SPFAL").valid()
                    }
                    $("#SPFAL").hasClass("format") && "" == $("#SPFAL").val() && ($("#SPFAL").val("0.00"), $("#SPFAL").valid());
                }
            });
        });

        $(".ui-ebixgrid-view > table > tbody > tr > td > a").each(function () {
            $(this).hasClass("ApproveMandate") && "@Model.HUserId" != $(this).attr("href").getstringinbetween("HAssignedTo") && $(this).attr('disabled', 'disabled').attr('readonly', 'readonly');
            $(this).hasClass("AddMandate") && ($(this).attr("href").getstringinbetween("HClaimantStatus") == "2" || $(this).attr("href").getstringinbetween("HClaimantStatus") == "3") && $(this).hide();
            "SP" == '@roleCode' && $(this).hasClass("AddMandate") && $(this).attr('disabled', 'disabled').attr('readonly', 'readonly');
            $(this).hasClass("ApproveMandate") && $(this).attr("href").getstringinbetween("HClaimantStatus") == "2" && $(this).hide();
        });

        $("body").delegate("#NewMandateEditor legend", "click", function () {
            $(this).hasClass("ExpCol") && ($(this).hasClass("ui-minusicon") ? $(this).addClass("ui-plusicon").removeClass("ui-minusicon") : $(this).addClass("ui-minusicon").removeClass("ui-plusicon"), $(this).next("div").toggle("slow"));
        });
        $("#ApproveRecommedations_Y").click(function () {
            if ($("#ApproveRecommedations_Y").is(":checked")) {
                var a = 0, b = [], b = ["SubTotal_C", "SubTotal_S", "Total_C", "SubTotal_S"];
                $("#NewMandateEditor  input[type=text]").each(function () {
                    $(this).is(":visible") && $(this).hasClass("format") && "_C" == $(this).context.id.slice(-2) && -1 == $.inArray($(this).context.id, b) && $("#" + $(this).context.id.substring(0, $(this).context.id.length - 2) + "_S").val(CurrencyFormat("" == $("#" + $(this).context.id.substring(0, $(this).context.id.length - 2) + "_S").val().replace(/,/g, "") || "0.00" == $("#" + $(this).context.id.substring(0, $(this).context.id.length - 2) + "_S").val().replace(/,/g, "") ? $(this).val().replace(/,/g, "") : $("#" + $(this).context.id.substring(0, $(this).context.id.length - 2) + "_S").val().replace(/,/g, "")))
                });
                $("#NewMandateEditor  input[type=text]").each(function () {
                    $(this).is(":visible") && $(this).hasClass("format") && "_S" == $(this).context.id.slice(-2) && -1 == $.inArray($(this).context.id, b) && (a = parseFloat("" == $(this).val().replace(/,/g, "") ? "0" : $(this).val().replace(/,/g, "")) + a)
                });
                SetTotal(), SetSubTotal(), SetCurrentMandate();
            }
        });

        $("#NewMandateEditor input[type=text]").blur(function () {
            var Ctrlmsg = "", Ctrlres = false, Ctrlid = "";
            var Lastid = $(this).context.id.slice(-2);
            //$(this).is(":visible") && "_C" == $(this).context.id.slice(-2) && "COSP" == '@roleCode' && $("#" + $(this).context.id.replace(Lastid, "_S")).val("Liability" == $(this).context.id.slice(0, -2) ? $(this).val() : "" == $(this).val() ? "0.00" : CurrencyFormat($(this).val().replace(/,/g, "")));
            $(this).is(":visible") && "_C" == $(this).context.id.slice(-2) && $("#" + $(this).context.id.replace(Lastid, "_S")).val("Liability" == $(this).context.id.slice(0, -2) ? $(this).val() : "" == $(this).val() ? "0.00" : CurrencyFormat($(this).val().replace(/,/g, "")));
            $("#MandateRqstEditor input[type=text]").each(function () {
                if ($(this).is(":visible") && ("_C" == $(this).context.id.slice(-2) || "_S" == $(this).context.id.slice(-2)) && $(this).hasClass("format")) {
                    if ($("#" + $(this).context.id.replace(Lastid, "_Q")).length != 0) {
                        var minvalue = parseFloat($("#" + $(this).context.id.replace(Lastid, "_Q")).val().replace(/,/g, ""));
                        if (parseFloat($(this).val().replace(/,/g, "")) > minvalue) {
                            Ctrlid = $(this).context.id;
                            Ctrlmsg = "Mandate amount cannot be greater than respective reserve amount ie $ " + minvalue + ".";
                            Ctrlres = true;
                            return false;
                        }
                    }

                }
            });
            SetTotal(), SetSubTotal(), SetCurrentMandate();
            Ctrlres && "COSP" == "@roleCode" && "_C" == Ctrlid.slice(-2) && $("#" + Ctrlid.replace("_C", "_S")).val("0.00");
            if (Ctrlres) return $("#" + Ctrlid).val("0.00"), alert(Ctrlmsg, Ctrlid), !1;
        });

        $("#btnSave").click(function () {
            if (!IsPageChanged()) return !1;
            var Ctrlmsg = "", Ctrlres = false, Ctrlid = "";
            $("#MandateRqstEditor input[type=text]").each(function () {
                if ($(this).is(":visible") && ("_C" == $(this).context.id.slice(-2) || "_S" == $(this).context.id.slice(-2)) && $(this).hasClass("format")) {
                    var Lastid = $(this).context.id.slice(-2);
                    if ($("#" + $(this).context.id.replace(Lastid, "_Q")).length != 0) {
                        var minvalue = parseFloat($("#" + $(this).context.id.replace(Lastid, "_Q")).val().replace(/,/g, ""));
                        if (parseFloat($(this).val().replace(/,/g, "")) > minvalue) {
                            Ctrlid = $(this).context.id;
                            Ctrlmsg = "Mandate amount can not be greater than respective reserve amount ie $ " + minvalue + ".";
                            Ctrlres = true;
                            return false;
                        }
                    }
                }
            });

            if (Ctrlres) return $("#" + Ctrlid).val("0.00"), SetTotal(), SetSubTotal(), SetCurrentMandate(), alert(Ctrlmsg, Ctrlid), !1;
            if ("SP" == '@roleCode') {
                if ("0" == $("#AssignedToSup").val()) return alert("Assigned To is required.", "AssignedToSup"), !1;
                if (!$('#ApproveRecommedations_Y').is(":checked") && !$('#ApproveRecommedations_N').is(":checked")) return alert("Approve Recommendations is required.", "ApproveRecommedations_Y"), !1;
                if ("" == $("#Total_S").val() || "0.00" == $("#Total_S").val()) return alert("Amount Due Total is required", "Total_S"), !1;
            } else if ("CO" == '@roleCode') {
                if ("0" == $("#Assignedto").val()) return alert("Assigned To is required.", "Assignedto"), !1;
                if ("0" == $("#Claimtype").val()) return alert("Type of Claim is required.", "Claimtype"), !1;
                if ("" == $("#Scenario").val()) return alert("Scenario is required.", "Scenario"), !1;
                if ("" == $("#COAssessment").val()) return alert("CO's Assessment is required .", "COAssessment"), !1;
                if ("[Select...]" == $("#InformSafetytoreviewfindings").val()) return alert("Inform Safety to review findings is required.", "InformSafetytoreviewfindings"), !1;
                if ("" == $("#Total_C").val() || "0.00" == $("#Total_C").val()) return alert("Amount Due Total is required", "Total_C"), !1;
            }

            if ("COSP" == '@roleCode') {
                if ("ApproveMandate" == '@viewonly') {
                    if ("0" == $("#AssignedToSup").val()) return alert("Assigned To is required.", "AssignedToSup"), !1;
                    if (!$('#ApproveRecommedations_Y').is(":checked") && !$('#ApproveRecommedations_N').is(":checked")) return alert("Approve Recommendations is required.", "ApproveRecommedations_Y"), !1;
                    if ("" == $("#Total_S").val() || "0.00" == $("#Total_S").val()) return alert("Amount Due Total is required", "Total_S"), !1;
                }
                if ("0" == $("#Assignedto").val()) return alert("Assigned To is required.", "Assignedto"), !1;
                if ("0" == $("#Claimtype").val()) return alert("Type of Claim is required.", "Claimtype"), !1;
                if ("" == $("#Scenario").val()) return alert("Scenario is required.", "Scenario"), !1;
                if ("" == $("#COAssessment").val()) return alert("CO's Assessment is required .", "COAssessment"), !1;
                if ("[Select...]" == $("#InformSafetytoreviewfindings").val()) return alert("Inform Safety to review findings is required.", "InformSafetytoreviewfindings"), !1;
                if ("" == $("#Total_C").val() || "0.00" == $("#Total_C").val()) return alert("Amount Due Total is required", "Total_C"), !1;
                //if ("" == $("#Total_S").val() || "0.00" == $("#Total_S").val()) return alert("Amount Due Total is required", "Total_S"), !1;
            }
            if ("CO" == '@roleCode' && ("" == $("#Total_C").val() || "0.00" == $("#Total_C").val())) return alert("Total amount is required", "Total_C"), !1;

            if ("SP" == '@roleCode' && ("" == $("#Total_S").val() || "0.00" == $("#Total_S").val())) return alert("Total amount is required", "Total_S"), !1;
            if (("SP" == '@roleCode' || "COSP" == '@roleCode') && "@claimtypeId" == "1" && ('@IsFalOD' == 'True') && ((parseFloat($("#Total_S").val().replace(/,/g, ""))) > parseFloat("@Model.HFALAmtOD"))) {
                CreateDialog("You can't approve amount.Your FAL limit is : $" + "@Model.HFALAmtOD" + ", Click OK to Continue", "Yes", "Cancel");
            } else if ("CO" == '@roleCode' && "@claimtypeId" == "1" && ('@IsFalOD' == 'True') && ((parseFloat($("#Total_C").val().replace(/,/g, ""))) > parseFloat("@Model.HFALAmtOD"))) {
                CreateDialog("You can't approve amount.Your FAL limit is : $" + "@Model.HFALAmtOD" + ", Click OK to Continue", "Yes", "Cancel");
            }
            else if ((("SP" == '@roleCode' || "COSP" == '@roleCode') && "@claimtypeId" == "2" && ('@IsFalPDBI' == 'True') && (parseFloat($("#Total_S").val().replace(/,/g, ""))) > parseFloat("@Model.HFALAmtPDBI")))
            { CreateDialog("You can't approve amount.Your FAL limit is : $" + "@Model.HFALAmtPDBI" + ", Click OK to Continue", "Yes", "Cancel"); }
            else if ("CO" == '@roleCode' && "@claimtypeId" == "2" && ('@IsFalPDBI' == 'True') && ((parseFloat($("#Total_C").val().replace(/,/g, ""))) > parseFloat("@Model.HFALAmtPDBI")))
            { CreateDialog("You can't approve amount.Your FAL limit is : $" + "@Model.HFALAmtPDBI" + ", Click OK to Continue", "Yes", "Cancel"); }
            else if ((("SP" == '@roleCode' || "COSP" == '@roleCode') && "@claimtypeId" == "3" && ('@IsFalPDBI' == 'True') && (parseFloat($("#Total_S").val().replace(/,/g, ""))) > parseFloat("@Model.HFALAmtPDBI")))
            { CreateDialog("You can't approve amount.Your FAL limit is : $" + "@Model.HFALAmtPDBI" + ", Click OK to Continue", "Yes", "Cancel"); }
            else if ("CO" == '@roleCode' && "@claimtypeId" == "3" && ('@IsFalPDBI' == 'True') && ((parseFloat($("#Total_C").val().replace(/,/g, ""))) > parseFloat("@Model.HFALAmtPDBI")))
            { CreateDialog("You can't approve amount.Your FAL limit is : $" + "@Model.HFALAmtPDBI" + ", Click OK to Continue", "Yes", "Cancel"); }
            else if (Date.parse("@Model.HEffdateto") < Date.parse(new Date()) && ((parseFloat("@Model.HTotalPreviousApproveMandate") + parseFloat($("#Total_S").val().replace(/,/g, "")) > parseFloat("@Model.HDeductibleAmt")) || (parseFloat("@Model.HTotalPreviousApproveMandate") + parseFloat($("#Total_C").val().replace(/,/g, "")) > parseFloat("@Model.HDeductibleAmt"))) && "@claimtypeId" == "3") {
                CreateDialog1("Deductible has expired for" + "@Model.HOrgname" + ".", "Ok", OnConfirmT);
            }
            else if (!(Date.parse("@Model.HEffdateto") < Date.parse(new Date())) && ((parseFloat("@Model.HTotalPreviousApproveMandate") + parseFloat($("#Total_S").val().replace(/,/g, "")) > parseFloat("@Model.HDeductibleAmt")) || (parseFloat("@Model.HTotalPreviousApproveMandate") + parseFloat($("#Total_C").val().replace(/,/g, "")) > parseFloat("@Model.HDeductibleAmt"))) && "@claimtypeId" == "3") {
                CreateDialog("Deductible amount exceeded $" + "@Model.HDeductibleAmt" + ", Click OK to Continue", "Yes", "Cancel", OnConfirmTrue);
            }
            else {
                SetTotal(), SetSubTotal(), SetCurrentMandate(), SetHiddenSpan(), FormatValue();
                var b = $("#claimmandateentryform").valid();
                var d = $("#CostofRepairs_D").val();
                var d1 = $("#CostofRepairs_S").val();
                var d2 = $("#CostofRepairs_N").val();
                IsPageChanged() && b && $("#claimmandateentryform").submit();
            }
        });
        SetHiddenSpan();
        ExpandGridAfterPost($("#Hshowgrid").val());

        '@claimtypeId' != 0 && ShowHideDiv("@claimtypeId");

        $(".ui-ebixgrid-view > table > tbody > tr > td > a").on("click", function (e) {
            if ("@Common.View" == $(this).text()) {
                e.preventDefault();
                var MR = $(this).attr("href").getstringinbetween("MandateRecordNo");
                var CD = $(this).attr("href").getstringinbetween("ClaimID");
                var AId = $(this).attr("href").getstringinbetween("AccidentClaimId");
                var CT = $(this).attr("href").getstringinbetween("ClaimType");
                var MId = $(this).attr("href").getstringinbetween("MandateId");
                var a = guid(), b = "#" + a;
                $('<div id="' + a + '" title="@ClaimMandate.MandateHistory" style="overflow: hidden;"></div>').appendTo(".MandateDialogue");
                InitializeDialog($(b), MR, CD, AId, CT, MId);
                $(b).dialog("open");
            }
        });




        function CreateDialog1(TexttoDisplay, okText, okCallback) {
            $("<div id='CreateDialog_id'></div>").text(TexttoDisplay).dialog({
                modal: true,
                title: 'CRIS+',
                draggable: false,
                buttons: [{
                    id: 'btnDialogeOK',
                    text: okText,
                    click: function () {
                        $(this).dialog("close");
                        typeof (okCallback) == "function" && okCallback();
                    }
                }]
            }).height('auto').attr('id', 'dialogId');
            $("#btnDialogeOK").closest("div").css({
                "display": "block",
                "margin": "0 auto",
                "text-align": "center",
                "float": "none !important"
            });
        };

        $(".ui-ebixgrid-view > table > tbody > tr > td > a").each(function () {
            ("SP" != '@roleCode' && "COSP" != '@roleCode' && $(this).hasClass("ApproveMandate") && $(this).hide());
            $(this).hasClass("ApproveMandate") && ("Approved" == $(this).attr("href").getstringinbetween("ApproveRecommedations") || "Rejected" == $(this).attr("href").getstringinbetween("ApproveRecommedations")) && $(this).attr("disabled", !0);
        });

        $("#NewMandateEditor input[type=text]").change(function () {
            var b = $(this).context.id, a = "" == $(this).attr("CompareTo") ? "0" : $(this).attr("CompareTo"), c = "" == $(this).val() ? "0" : $(this).val(), d = $(this).context.id || $(this).id;
            if (parseFloat(a) < parseFloat(c)) {
                return $("#" + b).val(""), alert("Mandate amount cannot be greater than respective reserve amount ie $" + CurrencyFormat(a), d), SetTotal(), SetSubTotal(), SetCurrentMandate(), SetHiddenSpan(), !1;
            }
        });

        if ('@claimtypeId' != "") {
            $('#divManDtlsSupAppval').attr('style', 'Display:block');
-1 < $.inArray('@claimtypeId', "1 2 3".split(" ")) ? ($("#mainheader").text(Tmainheader['@claimtypeId']()), $('#ODPDBIRequestEditor,#Common,#divsave').attr('style', 'Display:block')) : $('#ODPDBIRequestEditor').attr('style', 'Display:none');
            $("#mainheader").text(Tmainheader['@claimtypeId']());
            $("#Claimtype option[value!='@claimtypeId']").remove();
            $("#Claimtype").css({ "pointer-events": "none", "cursor": "default" }).css('background-color', '#eee');

        };

        $("table.ui-ebixgrid-btable span").click(function () {
            var a = $(this).context.id;
            $("#Hshowgrid").val(a);
            $("table.ui-ebixgrid-btable span").each(function () {
                if ($(this).hasClass("ui-icon-minus") || $(this).hasClass("ui-icon-plus")) {
                    if (!a.beginsWith($(this).context.id)) {
                        var spanid = $(this).context.id, id = spanid.slice(5, spanid.length);
                        $('#' + id).hide();
                        $('#' + spanid).removeClass('ui-icon-minus').addClass('ui-icon-plus');
                    }
                }
            });
        });

        "SP" == '@roleCode' && $("input[type=text]").each(function () { $(this).hasClass("format") && ("_C" == $(this).context.id.slice(-2)) && $(this).prop("readonly", !0) }) && $("#Liability_C").attr("readonly", !0);

        ('COSP' == '@roleCode' || 'NON' == '@roleCode') ? ($(".CO").removeAttr("readonly"), $(".SP").removeAttr("readonly"), $(".divSave").show(), $("#divsave").show(), $("#MandateRqstEditor input[type=text]").each(function () {
            if ($(this).is(":visible") && ("_A" == $(this).context.id.slice(-2) || "_R" == $(this).context.id.slice(-2)) && $(this).hasClass("format") && "Total" != $(this).context.id.slice(0, 5) && "SubTotal" != $(this).context.id.slice(0, 8)) {
                $(this).removeAttr('readonly')
            }
        }), $("#Liability_A,#Liability_R").removeAttr('readonly'), $("#Total_C,#Total_S").attr("readonly", !0)) : "SP" == '@roleCode' ? ($(".CO").attr("readonly", !0), $("#Assignedto option[value!='@Model.AssignedTo']").remove(), $("#InvestigationResultId option[value!='@Model.InvestigationResult']").remove(), $("#InformSafetytoreviewfindings option[value!='@Model.InformSafetytoreviewfindings']").remove(), $("#Assignedto,#InvestigationResultId").css({
            "pointer-events": "none",
            cursor: "default"
        }).css("background-color", "#eee"), ($(".divSave").show(), $("#divsave").show()), $(".checkBoxReadOnly").click(function () {
            return !1
        })) : "CO" == '@roleCode' ? ($(".SP").attr("readonly", !0), ($(".divSave").show(), $("#divsave").show()), $("#AssignedToSup").css({
            "pointer-events": "none",
            cursor: "default"
        }).css("background-color", "#eee"), $("#DivApproveRecommendations :radio:not(:checked)").attr("disabled", !0), $("#Liability_A,#Liability_R").removeAttr('readonly'), $("#Total_C,#Total_S").attr("readonly", !0), $("#MandateRqstEditor input[type=text]").each(function () {
            if ($(this).is(":visible") && ("_A" == $(this).context.id.slice(-2) || "_R" == $(this).context.id.slice(-2)) && $(this).hasClass("format") && "Total" != $(this).context.id.slice(0, 5) && "SubTotal" != $(this).context.id.slice(0, 8)) {
                $(this).removeAttr('readonly')
            }
        })) : $(".divSave").hide();


        "AddMandate" == '@viewonly' && $("input[type=text]").each(function () { ("_S" == $(this).context.id.slice(-2)) && $(this).prop("readonly", !0) });
        if ("ApproveMandate" == '@viewonly') {
            $("#ClaimantName,#COAssessment,#RelatedFacts,#SPFAL,#Scenario").prop("readonly", !0);
            $("#DivcheckBoxReadOnly input[type=checkbox]").each(function () {
                $(this).attr("disabled", "disabled");
            });
            $("#Assignedto,#Claimtype,#InvestigationResultId,#InformSafetytoreviewfindings").css({
                "pointer-events": "none",
                cursor: "default"
            }).css("background-color", "#eee")


            $("input[type=text]").each(function () { ("_S" != $(this).context.id.slice(-2)) && $(this).prop("readonly", !0) });
        }
        "AddMandate" == '@viewonly' ? ($("#SupervisorRemarks").attr("disabled", !0), $("#AssignedToSup").css({
            "pointer-events": "none",
            cursor: "default"
        }).css("background-color", "#eee"), $("#DivApproveRecommendations :radio:not(:checked)").attr("disabled", !0)) : "";

        ("@viewonly" == "AddMandate" || "@viewonly" == "ApproveMandate") ? $("#divbtnsave").show() : $("#divbtnsave").hide();
     
        if ('@ViewBag.ClaimantStatus' == "2" && '@Convert.ToString(HttpContext.Current.Session["ScreenNameDash"])'=="208") {
            $("form").find(":input:not([id=Next]):not([id=Previous])").each(function () {
                switch (this.type) {
                    case "text":
                        $(this).attr('disabled', 'disabled')
                    case "textarea":
                        $(this).attr('disabled', 'disabled')
                    case "checkbox":
                        $(this).attr('disabled', 'disabled')
                    case "radio":
                        $(this).attr('disabled', 'disabled')
                    case "button":
                        $(this).attr('disabled', 'disabled')

                }
            }) && $('select').attr('disabled', 'disabled') && $('button').attr('disabled', 'disabled') && $("#btnReset,#btnSave").attr('disabled', 'disabled').hide
        }
        if (("@viewonly" != "AddMandate" && "@viewonly" != "ApproveMandate")) {
            $("#SupervisorRemarks").attr("disabled", !0), $("#AssignedToSup").css({
                "pointer-events": "none",
                cursor: "default"
            }).css("background-color", "#eee"), $("#DivApproveRecommendations :radio:not(:checked)").attr("disabled", !0)

            $("form").find(":input:not([id=Next]):not([id=Previous])").each(function () {
                switch (this.type) {
                    case "text":
                        $(this).attr('disabled', 'disabled')
                    case "textarea":
                        $(this).attr('disabled', 'disabled')
                    case "checkbox":
                        $(this).attr('disabled', 'disabled')
                    case "radio":
                        $(this).attr('disabled', 'disabled')
                    case "button":
                        $(this).attr('disabled', 'disabled')

                }
            }) && $('select').attr('disabled', 'disabled') && $('button').attr('disabled', 'disabled') && $("#btnReset,#btnSave").attr('disabled', 'disabled').hide
        };

        "@claimtypeId" == "1" && $("#CoLbl").text("CO's Recommendations Minimum Offer") && $("#SmLbl").text("Supervisor's Recommendations Minimum Offer");

        $('textarea').each(function () {
            $(this).removeAttr('width').removeAttr('height').css("padding", "0px").parents('div:eq(0)').css('width', '').css('height', "50px");
        });

        $("#btnReset").click(function () {
            debugger;
            var ClaimId = '@claimId';
            var accidentclaimId = '@accidentClaimIdNew';
            var policyId = '@policyid';
            var MandateId = '@Model.MandateId';
            var Viewmode = '@viewonly';
            var claimMode = '@caller';
            var claimType = '@Model.ClaimType';
            var mode = '@pagemode';
            var ClaimTypeCode = '@ClaimTypeCode';
            var a = parseInt(ClaimId);
            var b = parseInt(accidentclaimId);
            var c = parseInt(policyId);
            var d = parseInt(MandateId);
            window.location.href = '@Url.Action("ClaimMandateReqEditor", "ClaimProcessing")?ClaimId=' + a + '&AccidentClaimId=' + b + '&claimMode=' + claimMode + '&policyId=' + c + '&MandateId=' + d + '&Viewmode=' + Viewmode + '&ClaimType=' + claimType + '&ClaimTypeCode=' + ClaimTypeCode + '&mode=' + mode;
        });

        SetDivPost();
    };
    $(document).ready(do_on_load);
    $(window).bind("page:change", do_on_load)

    function OnConfirmTrue() {
        SetTotal(), SetSubTotal(), SetCurrentMandate(), SetHiddenSpan(), FormatValue();
        $("#HAjustOrEdit").val("@viewonly");
        $("#claimmandateentryform").submit();
    };

    function OnConfirmT() {
        CreateDialog("Deductible amount exceeded $" + "@Model.HDeductibleAmt" + ", Click OK to Continue", "Yes", "Cancel", OnConfirmTrue);
    }

    function SetCurrentMandate() {
        $("input[type=text]").each(function () {
            if ($(this).hasClass("format") && $(this).context.id.slice(-2) == "_C" && $("#" + $(this).context.id.replace("_C", "_T")).length != 0) {
                var a = $(this).context.id.replace("_C", "_T"), b = $(this).context.id.replace("_C", "_M");
                $("#" + b).val(parseFloat($("#" + a).val().replace(/,/g, "") == "" ? "0.00" : $("#" + a).val().replace(/,/g, "")) + parseFloat($(this).val().replace(/,/g, "") == "" ? "0.00" : $(this).val().replace(/,/g, "")));
            }
            if ($(this).hasClass("format") && $(this).context.id.slice(-2) == "_S" && $("#" + $(this).context.id.replace("_S", "_D")).length != 0) {

                var a = $(this).context.id.replace("_S", "_D"), b = $(this).context.id.replace("_S", "_N");
                $("#" + b).val(parseFloat($("#" + a).val().replace(/,/g, "") == "" ? "0.00" : $("#" + a).val().replace(/,/g, "")) + parseFloat($(this).val().replace(/,/g, "") == "" ? "0.00" : $(this).val().replace(/,/g, "")));
            }
        });


    };
    function InitializeDialog($element, MR, CD, AId, CT, MID) {
        $element.dialog({
            width: "900",
            resizable: false,
            draggable: true,
            show: { effect: 'drop', direction: "up" },
            title: CName[CT]() + "-@ClaimMandate.MandateHistory",
            model: true,
            show: 'slide',
            dialogClass: 'alert',
            closeOnEscape: true,
            open: function (event, ui) {
                var path = '@Url.Content("~/ClaimProcessing/_MandateListAll")' + "?MandateRecordNo=" + MR + "&AccidentClaimId=" + AId + "&ClaimID=" + CD + "&ClaimType=" + CT + "&MandateId=" + MID + "&uid=" + guid();
                $element.load(path);
            },
            position: {
                my: "center",
                at: "center",
                of: window
            },
            close: function () {
                $element.dialog('destroy').remove();
            }

        });
    };



    function DatepickerLen() {
        $("input[type=text]").each(function () {
            (-1 < $.inArray(($(this).context.id || $(this).id), "inputAccidentDate inputReportedDate inputDateofFinding".split(" ")) || $(this).hasClass("datepicker")) && 10 < $(this).val().length && $(this).val($(this).val().substring(0, 10));
            if (void 0 !== $(this).attr("data-val-date") && "The field " == $(this).attr("data-val-date").substring(0, 10)) {
                var b = $(this).attr("data-val-date").substring(10, $(this).attr("data-val-date").length).replace("must be a date.", "must be in 'dd/mm/yyyy' format.");
                $(this).removeAttr("data-val-date");
                $(this).attr("data-val-date", b)
            };
            if (void 0 !== $(this).attr("data-val-number") && $(this).hasClass("format Number")) {
                $(this).removeAttr("data-val-number");
                $(this).attr("data-val-number", "The field must be a number")
            };
        });
    };
    function FormatValue() {
        $("input[type=text]").each(function () {
            if ($(this).hasClass("format") && "" != $(this).val()) {
                var a = $(this).context.id, b = $(this).val().replace(/,/g, "");
                $("#" + a).val(b.replace("NaN", "0"))
            }
        });
    };
    //    function SetTotal() {
    //        for (var c = 0, a = 0, d = [], d = ["_A", "_R", "_C", "_S"], b; b = d[c]; c++, a = 0) $("input[type=text]").each(function () {
    //            $(this).is(":visible") && $(this).context.id.slice(-2) == b && $(this).context.id != "Total" + b && $(this).context.id != "Liability" + b && $(this).context.id != "SubTotal" + b && $(this).hasClass("format") && (a = parseFloat("" == $(this).val() ? "0" : $(this).val().replace(/,/g, "")) + a)
    //        }), $("#Total" + b).val(("-" == a.toString().charAt(0) ? "-" : "") + CurrencyFormat(parseFloat(a)))
    //    };
    function SetTotal() {
        for (var c = 0, a = 0, e = 0, arr = [], arr = ["CostofRepairs", "LossofUseUn", "LossofRental", "Excess", "LossofUse", "GeneralDamages", "MedicalExpenses", "FutureMedicalExpenses", "LOGMedicalExpenses", "LossofEarningsCapacity", "LossofEarning", "LossofEarnings", "LossofFutureEarnings", "Transport"], d = [], d = ["_A", "_R", "_C", "_S"], b; b = d[c]; c++, a = 0, e = 0) $("input[type=text]").each(function () {
            $(this).context.id.slice(-2) == b && $(this).context.id != "Total" + b && $(this).context.id != "Liability" + b && $(this).context.id != "SubTotal" + b && $(this).hasClass("format") && (a = parseFloat("" == $(this).val() ? "0" : $(this).val().replace(/,/g, "")) + a);
            $(this).context.id.slice(-2) == b && -1 != $.inArray($(this).context.id.slice(0, -2), arr) && $(this).hasClass("format") && (e = parseFloat("" == $(this).val() ? "0" : $(this).val().replace(/,/g, "")) + e)
        }), $("#Total" + b).val(("-" == a.toString().charAt(0) ? "-" : "") + CurrencyFormat(parseFloat(a - e) + parseFloat(e * parseFloat($("#Liability" + b).val() == "" ? "1" : (parseFloat($("#Liability" + b).val().replace(/,/g, ""))) / 100))))
    };
    function SetSubTotal() {
        for (var c = 0, a = 0, d = [], arr = [], arr = ["CostofRepairs", "LossofUseUn", "LossofRental", "Excess", "LossofUse", "GeneralDamages", "MedicalExpenses", "FutureMedicalExpenses", "LOGMedicalExpenses", "LossofEarningsCapacity", "LossofEarning", "LossofEarnings", "LossofFutureEarnings", "Transport"], d = ["_A", "_R", "_C", "_S"], b; b = d[c]; c++, a = 0) $("input[type=text]").each(function () {
            $(this).context.id.slice(-2) == b && -1 != $.inArray($(this).context.id.slice(0, -2), arr) && $(this).hasClass("format") && (a = parseFloat("" == $(this).val() ? "0" : $(this).val().replace(/,/g, "")) + a)
        }), $("#SubTotal" + b).val(("-" == a.toString().charAt(0) ? "-" : "") + CurrencyFormat(parseFloat(a * parseFloat($("#Liability" + b).val() == "" ? "1" : (parseFloat($("#Liability" + b).val().replace(/,/g, ""))) / 100))))
    };


    function ShowHideDiv(a) {
        $("#MandateRqstEditor fieldset,#MandateRqstEditor div,#MandateRqstEditor label").each(function () {
            if ($(this).hasClass("OD") || $(this).hasClass("PD") || $(this).hasClass("BI")) "1" == a ? $(this).hasClass("OD") ? ($(this), $(this).show()) : $(this).hide() : "2" == a ? $(this).hasClass("PD") ? $(this).show() : $(this).hide() : $(this).hasClass("BI") ? $(this).show() : $(this).hide();
        })
    };

    function SetHiddenSpan() {
        if (($("#Hshowgrid").val() == null || $("#Hshowgrid").val() == "") && getQueryVariable("Viewmode") == "Select" || getQueryVariable("Viewmode") == "ApproveMandate" || getQueryVariable("Viewmode") == "AddMandate") {
            var AccidentClaimId = getQueryVariable("AccidentClaimId"), ClaimID = getQueryVariable("ClaimID"), ClaimType = getQueryVariable("ClaimType"), MandateId = getQueryVariable("MandateId");
            $(".ui-ebixgrid-view > table > tbody > tr > td > a").each(function () {
                if ($(this).attr("href") && $(this).attr("href").getstringinbetween("AccidentClaimId") == AccidentClaimId && $(this).attr("href").getstringinbetween("ClaimID") == ClaimID && $(this).attr("href").getstringinbetween("ClaimType") == ClaimType && $(this).attr("href").getstringinbetween("MandateId") == MandateId) {
                    $("#Hshowgrid").val("span_" + $(this).closest('tr')[0].id + "_s0");
                }
            });
        }
    }
    function ExpandGridAfterPost(a) {
        $("table.ui-ebixgrid-btable span").each(function () {
            if ($(this).hasClass("ui-icon-minus") || $(this).hasClass("ui-icon-plus")) {
                if (a.beginsWith($(this).context.id)) {
                    var spanid = $(this).context.id, id = spanid.slice(5, spanid.length);
                    $('#' + id).show();
                    $('#' + spanid).removeClass('ui-icon-plus').addClass('ui-icon-minus');
                }
            }
        });
    };
    function SveGridIdBeforePost(a) {
        $("table.ui-ebixgrid-btable span").each(function () {
            if ($(this).hasClass("ui-icon-minus") || $(this).hasClass("ui-icon-plus")) {
                if (a.beginsWith($(this).context.id)) {
                    var spanid = $(this).context.id, id = spanid.slice(5, spanid.length);
                    $('#' + id).show();
                    $('#' + spanid).removeClass('ui-icon-plus').addClass('ui-icon-minus');
                }
            }
        });
    };

    var guid = (function () {
        function s4() {
            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
        }
        return function () {
            return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
        };
    })();
    String.prototype.getstringinbetween = function (a) {
        for (var e = this.split("&"), d = 0; d < e.length; d++) {
            var b = e[d].split("=");
            if (b[0] == a) return b[1]
        };
    };
    String.prototype.contains = function (a) {
        return -1 != this.indexOf(a)
    };
    String.prototype.beginsWith = function (string) {
        return (this.indexOf(string) === 0);
    };
    $("body").delegate("a.btn.btn-xs.btn-info.encryptUrl", "click", function () {
        var sPageURL = $(this)[0].getAttribute("href");
        if ('@isEncryptedParams' == "YES") {
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetEncryptedUrl", "ClaimProcessing")',
                data: {
                    Url: sPageURL
                },
                success: function (data) {
                    window.location.href = data;
                }
            });
        }
        else {
            window.location.href = sPageURL;
        }
    });
</script>
