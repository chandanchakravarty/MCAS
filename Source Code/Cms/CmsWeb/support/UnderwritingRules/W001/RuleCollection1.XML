<?xml version="1.0" encoding="utf-8"?>
<rule_collection>

  <rule_collection_details>
    <collection_code>EBX1001</collection_code>
    <collection_version>12.25</collection_version>
    <locked>false</locked>
    <collection_effective_date>07/20/2011</collection_effective_date>
    <collection_expiration_date>07/20/2011</collection_expiration_date>
    <collection_country>1</collection_country>
    <collection_state>
      <state_cd>75</state_cd>
      <state_cd>77</state_cd>
      <state_cd>64</state_cd>
    </collection_state>
    <collection_product>1</collection_product>
    <collection_lob>
      <lob_id>18</lob_id>
    </collection_lob>
    <collection_sublob>
      <sub_lob_id>7</sub_lob_id>
      <sub_lob_id>1</sub_lob_id>
      <sub_lob_id>2</sub_lob_id>
      <sub_lob_id>6</sub_lob_id>
    </collection_sublob>
    <quoteapppolicy>
      <Application>true</Application>
      <Policy>true</Policy>
      <Quote>true</Quote>
    </quoteapppolicy>
  </rule_collection_details>

  <rules>
    <!--Policy Level Rules-->
    <!-- If proxy signature is not obtained refer-->
    <rule ruleid="1" ruletype="Defined" rulecategory="Refer" rulepriority="High" rulestatus="Active" effectivefrom="" effectivetill=""
          basepath="ROOT/POLICY" sectionid="224_44">
      <if>
        <conditionexpressions>
          <expression expid="1" datatype ="string">
            <operand1 qualifier="Any" type="Input">PROXY_SIGN_OBTAINED</operand1>
            <operator>Equals</operator>
            <operand2 qualifier="None" type="Constant">0</operand2>
          </expression>
        </conditionexpressions>
        <then>
          <action type="ShowMessage">
            <message_id>1</message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </if>
      <else>
        <then>
          <action type="ShowMessage">
            <message_id></message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </else>
    </rule>

    <!--If no primary applicatnt reject-->
    <rule ruleid="2" ruletype="Defined" rulecategory="Reject" rulepriority="High" rulestatus="Active" effectivefrom="" effectivetill=""
         basepath="ROOT/POLICYAPPLICANTS" sectionid="224_44">
      <if>
        <conditionexpressions>
          <expression expid="1" datatype ="string">
            <operand1 qualifier="Count" type="Input">POLICYAPPLICANT</operand1>
            <operator>Equals</operator>
            <operand2 qualifier="None" type="Constant">0</operand2>
          </expression>
        </conditionexpressions>
        <then>
          <action type="ShowMessage">
            <message_id>2</message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </if>
      <else>
        <then>
          <action type="ShowMessage">
            <message_id></message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </else>
    </rule>

    <!--If total of premium of all risks exceeds 100000 refer-->
    <rule ruleid="9" ruletype="Defined" rulecategory="Refer" rulepriority="High" rulestatus="Active" effectivefrom="" effectivetill=""
         basepath="ROOT/RISKS" sectionid="224_44">
      <if>
        <conditionexpressions>
          <expression expid="1" datatype ="double">
            <operand1 qualifier="Sum" type="Input">RISK/COVERAGES/COVERAGE/WRITTEN_PREMIUM</operand1>
            <operator>GreaterThan</operator>
            <operand2 qualifier="None" type="Constant">10000</operand2>
          </expression>
        </conditionexpressions>
        <then>
          <action type="ShowMessage">
            <message_id>9</message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </if>
      <else>
        <then>
          <action type="ShowMessage">
            <message_id></message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </else>
    </rule>

    <!-- Location Level Rules-->

    <!--Location Occupied field in mandatory-->
    <rule ruleid="8" ruletype="Defined" rulecategory="Mandatory" rulepriority="High" rulestatus="Active" effectivefrom="" effectivetill=""
         basepath="ROOT/LOCATIONS/LOCATIONINFO" sectionid="300">
      <if>
        <conditionexpressions>
          <expression expid="1" datatype ="string">
            <operand1 qualifier="Any" type="Input">OCCUPIED</operand1>
            <operator>Equals</operator>
            <operand2 qualifier="None" type="Constant">0</operand2>
          </expression>
        </conditionexpressions>
        <then>
          <action type="ShowMessage">
            <message_id>8</message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </if>
      <else>
        <then>
          <action type="ShowMessage">
            <message_id></message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </else>
    </rule>

    <!--Licence plate/number for risk is mandatory-->
    <rule ruleid="12" ruletype="Defined" rulecategory="Mandatory" rulepriority="High" rulestatus="Active" effectivefrom="" effectivetill=""
          basepath="ROOT/RISKS/RISK" sectionid="400">
      <if>
        <conditionexpressions>
          <expression expid="1" datatype ="string">
            <operand1 qualifier="Any" type="Input">LICENSE_PLATE</operand1>
            <operator>Equals</operator>
            <operand2 qualifier="None" type="Constant"></operand2>
          </expression>

          <expression expid="2" datatype ="string">
            <operand1 qualifier="Any" type="Input">LICENSE_PLATE</operand1>
            <operator>Equals</operator>
            <operand2 qualifier="None" type="Constant"></operand2>
          </expression>

          <expression expid="3" datatype ="string">
            <operand1 qualifier="Any" type="Input">LICENSE_PLATE</operand1>
            <operator>Equals</operator>
            <operand2 qualifier="None" type="Constant"></operand2>
          </expression>
          <joins>


          </joins>

        </conditionexpressions>
        <then>
          <action type="ShowMessage">
            <message_id>12</message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </if>
      <else>
        <then>
          <action type="ShowMessage">
            <message_id></message_id>
          </action>
          <action type="SetVariable">
            <variable></variable>
            <value></value>
          </action>
        </then>
      </else>
    </rule>
  </rules>

</rule_collection>